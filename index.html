<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, height=device-height,
               initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>FINAL LOOKS | MODELS TAKE OVER THE ATRIUM IN OLD SAC</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
html,body{margin:0;padding:0;width:100%;height:100%;
  font-family:"Times New Roman",serif;background:#dcd8cf;}

/* MAIN CONTAINER */
#app{
  width:100vw;height:100vh;display:flex;flex-direction:column;
  align-items:center;background:#fffefa;overflow:hidden;position:relative;
}

/* --- MASTHEAD --- */
.masthead{
  width:100%;text-align:center;
  border-top:4px double #000;border-bottom:4px double #000;
  background:#fff;padding:1vh 0;
}
.masthead h1{
  margin:0;font-size:6vw;font-weight:900;text-transform:uppercase;
  letter-spacing:0.3vw;
}
.masthead p{
  margin:0.4vh 0 0;font-size:3vw;font-style:italic;
}

/* --- MAIN HEADLINE --- */
h2{
  width:92%;text-align:center;
  font-size:4.3vw;font-weight:bold;line-height:1.25;
  word-break:keep-all;overflow-wrap:break-word;
  border-bottom:1px solid #333;margin:1vh auto 0.5vh auto;
  padding-bottom:0.5vh;
}

/* --- STORY TEXT --- */
.story{
  width:88%;font-size:3.1vw;line-height:1.55;text-align:justify;
  overflow:auto;flex:1;margin-top:0.3vh;
}

/* --- MAIN IMAGE --- */
.frame{
  width:95%;aspect-ratio:16/9;margin:1vh auto;
  border:0.3vh solid #333;border-radius:1vw;
  background:#eee center/cover no-repeat;overflow:hidden;
  position:relative;display:flex;align-items:center;justify-content:center;
  color:#666;font-style:italic;
}
.frame img{
  width:100%;height:100%;object-fit:cover;object-position:center;
  transform-origin:center;color:#666;
}
.frame input[type=file]{position:absolute;bottom:2vh;left:2vw;
  opacity:0;width:40px;height:40px;}
.frame input[type=range]{position:absolute;bottom:2vh;right:2vw;
  width:35%;display:none;}

/* --- THREE PORTRAIT IMAGES --- */
.photo-row{
  display:flex;justify-content:space-between;align-items:center;
  width:92%;margin:1vh auto;gap:2%;
}
.pframe{
  flex:1;aspect-ratio:3/4;border:0.25vh solid #333;border-radius:0.7vw;
  background:#f1f1f1 center/cover no-repeat;position:relative;
  overflow:hidden;display:flex;align-items:center;justify-content:center;
  color:#555;font-size:3vw;font-style:italic;
}
.pframe img{
  width:100%;height:100%;object-fit:cover;object-position:center;
  transform-origin:center center;transition:transform 0.2s;
}
.pframe input[type=file]{position:absolute;bottom:1vh;left:1vh;opacity:0;width:30px;height:30px;}
.pframe input[type=range]{position:absolute;bottom:1vh;right:1vh;width:40%;display:none;}

/* --- FOOTER --- */
footer{
  width:100%;text-align:center;border-top:3px double #000;background:#fff;
  font-size:2.8vw;padding:0.8vh 0 6vh 0; /* space for bottom bar */
}
footer em{display:block;font-size:2.5vw;font-style:italic;margin-top:0.3vh;}

/* --- SAVE/SHARE BAR --- */
.bottom-bar{
  width:100%;height:7vh;position:absolute;bottom:0;left:0;
  background:#000;display:flex;justify-content:center;align-items:center;gap:5vw;
}
.bottom-bar button{
  background:#fff;border:none;color:#000;padding:1vh 3vh;border-radius:1vh;
  font-size:3.5vw;font-weight:bold;
}
.bottom-bar button:active{transform:scale(0.97);}
</style>
</head>

<body>
<div id="app">

  <!-- Newspaper Masthead -->
  <div class="masthead">
    <h1>FASHION WEEK SACRAMENTO</h1>
    <p>Friday • January 23 2026 • Final Casting Edition</p>
  </div>

  <h2>FINAL LOOKS | MODELS TAKE OVER THE ATRIUM IN OLD SAC</h2>

  <!-- Main Photo -->
  <div class="frame" id="mainFrame">
    Tap to Insert Main Photo
    <img id="mainImg" alt="">
    <input type="file" accept="image/*"
           onchange="loadImage(event,'mainImg')">
    <input type="range" min="1" max="2" step="0.01" value="1"
           id="mainZoom" oninput="zoomImage('mainImg','mainZoom')">
  </div>

  <div class="story">
    Old Sacramento’s Atrium buzzed with creative energy as models lined the courtyard for the final casting of Fashion Week Sacramento 2026. This historic 501(c)(3) creative center for sustainability and innovation served as the perfect backdrop for a day aimed at building a kind and sustainable future through fashion and design.
  </div>

  <!-- Portrait Photos -->
  <div class="photo-row">
    <div class="pframe">
      +
      <img id="p1" alt="">
      <input type="file" accept="image/*"
             onchange="loadImage(event,'p1')">
      <input type="range" min="1" max="2" step="0.01" value="1" id="z1"
             oninput="zoomImage('p1','z1')">
    </div>
    <div class="pframe">
      +
      <img id="p2" alt="">
      <input type="file" accept="image/*"
             onchange="loadImage(event,'p2')">
      <input type="range" min="1" max="2" step="0.01" value="1" id="z2"
             oninput="zoomImage('p2','z2')">
    </div>
    <div class="pframe">
      +
      <img id="p3" alt="">
      <input type="file" accept="image/*"
             onchange="loadImage(event,'p3')">
      <input type="range" min="1" max="2" step="0.01" value="1" id="z3"
             oninput="zoomImage('p3','z3')">
    </div>
  </div>

  <footer>
    <strong>DMR Productions • www.dmrproductions.online</strong>
    <em>Fashion Week Sacramento 2026 | Final Casting Edition</em>
  </footer>

  <div class="bottom-bar">
    <button id="saveBtn">SAVE</button>
    <button id="shareBtn">SHARE</button>
  </div>
</div>

<script>
/* --- LOAD IMAGES --- */
function loadImage(e,imgId){
  const file=e.target.files[0];
  if(!file)return;
  const reader=new FileReader();
  reader.onload=x=>{
    const img=document.getElementById(imgId);
    img.src=x.target.result;
    img.style.transform='scale(1) translate(0,0)';
    const range=img.parentElement.querySelector('input[type=range]');
    img.parentElement.onclick=()=>range.style.display=
      range.style.display==='block'?'none':'block';
  };
  reader.readAsDataURL(file);
}

/* --- ZOOM + PAN --- */
const state={};
document.querySelectorAll('img').forEach(img=>{
  let drag=false,startX=0,startY=0,offX=0,offY=0;
  img.addEventListener('touchstart',e=>{
    if(e.touches.length===1){
      drag=true;startX=e.touches[0].clientX;startY=e.touches[0].clientY;
    }
  });
  img.addEventListener('touchmove',e=>{
    if(!drag)return;
    const dx=e.touches[0].clientX-startX;
    const dy=e.touches[0].clientY-startY;
    offX+=dx;offY+=dy;
    img.style.transform=`translate(${offX}px,${offY}px) scale(${state[img.id]||1})`;
    startX=e.touches[0].clientX;startY=e.touches[0].clientY;
  });
  img.addEventListener('touchend',()=>drag=false);
});
function zoomImage(imgId,sliderId){
  const scale=parseFloat(document.getElementById(sliderId).value);
  const img=document.getElementById(imgId);
  state[img.id]=scale;
  const cur=img.style.transform.match(/translate\\((.*?)\\)/);
  const translate=cur?cur[1]:"0px,0px";
  img.style.transform=`translate(${translate}) scale(${scale})`;
}

/* --- SAVE / SHARE --- */
function exportCanvas(cb){
  html2canvas(document.getElementById('app'),{scale:2,useCORS:true}).then(cv=>{
    cv.toBlob(blob=>{
      const file=new File([blob],"Final_Looks_FWSac.jpg",{type:"image/jpeg"});
      cb(file,blob);
    });
  });
}
document.getElementById('saveBtn').onclick=()=>exportCanvas((f,b)=>{
  const link=document.createElement('a');
  link.href=URL.createObjectURL(b);link.download=f.name;link.click();
  URL.revokeObjectURL(link.href);
});
document.getElementById('shareBtn').onclick=()=>exportCanvas((f,b)=>{
  if(navigator.share){
    navigator.share({
      title:"Final Looks | Fashion Week Sacramento 2026",
      files:[f]
    }).catch(()=>{});
  }else alert("Sharing not supported.");
});
</script>
</body>
</html>
